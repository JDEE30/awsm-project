{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = scopeTab;\n\nvar _tabbable = require(\"./tabbable\");\n\nvar _tabbable2 = _interopRequireDefault(_tabbable);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction getActiveElement() {\n  var el = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n  return el.activeElement.shadowRoot ? getActiveElement(el.activeElement.shadowRoot) : el.activeElement;\n}\n\nfunction scopeTab(node, event) {\n  var tabbable = (0, _tabbable2.default)(node);\n\n  if (!tabbable.length) {\n    // Do nothing, since there are no elements that can receive focus.\n    event.preventDefault();\n    return;\n  }\n\n  var target = void 0;\n  var shiftKey = event.shiftKey;\n  var head = tabbable[0];\n  var tail = tabbable[tabbable.length - 1];\n  var activeElement = getActiveElement(); // proceed with default browser behavior on tab.\n  // Focus on last element on shift + tab.\n\n  if (node === activeElement) {\n    if (!shiftKey) return;\n    target = tail;\n  }\n\n  if (tail === activeElement && !shiftKey) {\n    target = head;\n  }\n\n  if (head === activeElement && shiftKey) {\n    target = tail;\n  }\n\n  if (target) {\n    event.preventDefault();\n    target.focus();\n    return;\n  } // Safari radio issue.\n  //\n  // Safari does not move the focus to the radio button,\n  // so we need to force it to really walk through all elements.\n  //\n  // This is very error prone, since we are trying to guess\n  // if it is a safari browser from the first occurence between\n  // chrome or safari.\n  //\n  // The chrome user agent contains the first ocurrence\n  // as the 'chrome/version' and later the 'safari/version'.\n\n\n  var checkSafari = /(\\bChrome\\b|\\bSafari\\b)\\//.exec(navigator.userAgent);\n  var isSafariDesktop = checkSafari != null && checkSafari[1] != \"Chrome\" && /\\biPod\\b|\\biPad\\b/g.exec(navigator.userAgent) == null; // If we are not in safari desktop, let the browser control\n  // the focus\n\n  if (!isSafariDesktop) return;\n  var x = tabbable.indexOf(activeElement);\n\n  if (x > -1) {\n    x += shiftKey ? -1 : 1;\n  }\n\n  target = tabbable[x]; // If the tabbable element does not exist,\n  // focus head/tail based on shiftKey\n\n  if (typeof target === \"undefined\") {\n    event.preventDefault();\n    target = shiftKey ? tail : head;\n    target.focus();\n    return;\n  }\n\n  event.preventDefault();\n  target.focus();\n}\n\nmodule.exports = exports[\"default\"];","map":{"version":3,"sources":["C:/Users/allst/OneDrive/Documents/GitHub/awsm-project/node_modules/react-modal/lib/helpers/scopeTab.js"],"names":["Object","defineProperty","exports","value","default","scopeTab","_tabbable","require","_tabbable2","_interopRequireDefault","obj","__esModule","getActiveElement","el","arguments","length","undefined","document","activeElement","shadowRoot","node","event","tabbable","preventDefault","target","shiftKey","head","tail","focus","checkSafari","exec","navigator","userAgent","isSafariDesktop","x","indexOf","module"],"mappings":"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","sourcesContent":["\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = scopeTab;\r\n\r\nvar _tabbable = require(\"./tabbable\");\r\n\r\nvar _tabbable2 = _interopRequireDefault(_tabbable);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction getActiveElement() {\r\n  var el = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\r\n\r\n  return el.activeElement.shadowRoot ? getActiveElement(el.activeElement.shadowRoot) : el.activeElement;\r\n}\r\n\r\nfunction scopeTab(node, event) {\r\n  var tabbable = (0, _tabbable2.default)(node);\r\n\r\n  if (!tabbable.length) {\r\n    // Do nothing, since there are no elements that can receive focus.\r\n    event.preventDefault();\r\n    return;\r\n  }\r\n\r\n  var target = void 0;\r\n\r\n  var shiftKey = event.shiftKey;\r\n  var head = tabbable[0];\r\n  var tail = tabbable[tabbable.length - 1];\r\n  var activeElement = getActiveElement();\r\n\r\n  // proceed with default browser behavior on tab.\r\n  // Focus on last element on shift + tab.\r\n  if (node === activeElement) {\r\n    if (!shiftKey) return;\r\n    target = tail;\r\n  }\r\n\r\n  if (tail === activeElement && !shiftKey) {\r\n    target = head;\r\n  }\r\n\r\n  if (head === activeElement && shiftKey) {\r\n    target = tail;\r\n  }\r\n\r\n  if (target) {\r\n    event.preventDefault();\r\n    target.focus();\r\n    return;\r\n  }\r\n\r\n  // Safari radio issue.\r\n  //\r\n  // Safari does not move the focus to the radio button,\r\n  // so we need to force it to really walk through all elements.\r\n  //\r\n  // This is very error prone, since we are trying to guess\r\n  // if it is a safari browser from the first occurence between\r\n  // chrome or safari.\r\n  //\r\n  // The chrome user agent contains the first ocurrence\r\n  // as the 'chrome/version' and later the 'safari/version'.\r\n  var checkSafari = /(\\bChrome\\b|\\bSafari\\b)\\//.exec(navigator.userAgent);\r\n  var isSafariDesktop = checkSafari != null && checkSafari[1] != \"Chrome\" && /\\biPod\\b|\\biPad\\b/g.exec(navigator.userAgent) == null;\r\n\r\n  // If we are not in safari desktop, let the browser control\r\n  // the focus\r\n  if (!isSafariDesktop) return;\r\n\r\n  var x = tabbable.indexOf(activeElement);\r\n\r\n  if (x > -1) {\r\n    x += shiftKey ? -1 : 1;\r\n  }\r\n\r\n  target = tabbable[x];\r\n\r\n  // If the tabbable element does not exist,\r\n  // focus head/tail based on shiftKey\r\n  if (typeof target === \"undefined\") {\r\n    event.preventDefault();\r\n    target = shiftKey ? tail : head;\r\n    target.focus();\r\n    return;\r\n  }\r\n\r\n  event.preventDefault();\r\n\r\n  target.focus();\r\n}\r\nmodule.exports = exports[\"default\"];"]},"metadata":{},"sourceType":"script"}